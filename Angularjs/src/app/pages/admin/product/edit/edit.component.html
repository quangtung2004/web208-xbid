<div class="container">
    <h1>Update Sản Phẩm</h1>
    <p-toast position="top-right"></p-toast>
    <form [formGroup]="createProductForm" (ngSubmit)="handleSubmit()">
        <div class="form-group">
            <label for="title">Tiêu đề:</label>
            <input type="text" class="form-control" id="title" name="title" formControlName="title" required>
            @if(createProductForm.controls['title'].errors?.['required']&& createProductForm.controls['title'].touched){
            <small class="text-danger text-small">Không được bỏ trống</small>
            }@if(createProductForm.controls['title'].errors?.['minlength']&&
            createProductForm.controls['title'].touched){
            <small class="text-danger text-small">Phải lớn hơn 6 giá trị</small>
            }
        </div>
        <div class="form-group">
            <label for="image">Hình ảnh (URL):</label>
            <input type="text" class="form-control" id="image" name="image" formControlName="image" required>
            @if(createProductForm.controls['image'].errors?.['required']&& createProductForm.controls['image'].touched){
            <small class="text-danger text-small">Không được bỏ trống</small>
            }
        </div>
        <div class="form-group">
            <label for="description">Mô tả:</label>
            <textarea class="form-control" id="description" name="description" rows="4" formControlName="description"
                required></textarea>
            @if(createProductForm.controls['description'].errors?.['required']&&
            createProductForm.controls['description'].touched){
            <small class="text-danger text-small">Không được bỏ trống</small>
            }
        </div>
        <div class="form-group">
            <label for="price">Giá mới:</label>
            <input type="number" class="form-control" id="price" name="price" formControlName="price" required>
            @if(createProductForm.controls['price'].errors?.['required']&&
            createProductForm.controls['price'].touched){
            <small class="text-danger text-small">Không được bỏ trống</small>
            }@if(createProductForm.controls['price'].errors?.['min']&&
            createProductForm.controls['price'].touched){
            <small class="text-danger text-small">Giá phải lớn hơn 0</small>
            }
        </div>
        <div class="form-group">
            <label for="price">Giá cũ:</label>
            <input type="number" class="form-control" id="price" name="price" formControlName="priceold" required>
            @if(createProductForm.controls['priceold'].errors?.['required']&&
            createProductForm.controls['priceold'].touched){
            <small class="text-danger text-small">Không được bỏ trống</small>
            }
            @if(createProductForm.controls['priceold'].errors?.['min']&&
            createProductForm.controls['priceold'].touched){
            <small class="text-danger text-small">Giá phải lớn hơn 0</small>
            }
        </div>
        <div class="form-group">
            <label for="price">Star Rating:</label>
            <input type="number" class="form-control" id="starRating" name="starRating" formControlName="starRating"
                required>
            @if(createProductForm.controls['starRating'].errors?.['required']&&
            createProductForm.controls['starRating'].touched){
            <small class="text-danger text-small">Không được bỏ trống</small>
            }
            @if(createProductForm.controls['starRating'].errors?.['min']&&
            createProductForm.controls['starRating'].touched){
            <small class="text-danger text-small">Ngôi sao phải lớn hơn hoặc bằng 1</small>
            }
            @if(createProductForm.controls['starRating'].errors?.['max']&&
            createProductForm.controls['starRating'].touched){
            <small class="text-danger text-small">Ngôi sao phải nhỏ hơn hoặc bằng 5</small>
            }
        </div>
        <div class="form-group">
            <label for="category" class="form-label">Category</label>
            <select class="form-control" id="category" formControlName="category">
                <option value="">Select Category</option>
                @for (category of categories; track category._id) {
                <option value="{{ category._id }}">{{ category.name }}</option>
                }
            </select>
        </div>

        <div class="form-group">
            <label for="startAt">Start At</label>
            <input type="datetime-local" class="form-control" id="startAt" name="startAt" formControlName="startAt"
                required>
        </div>

        <div class="form-group">
            <label for="times">Time:</label>
            <select class="form-control" id="times" name="times" formControlName="times" required>

                <option value="">Select Time</option>
                <option value="15">15p</option>
                <option value="30">30p</option>
                <option value="60">60p</option>

            </select>
        </div>

        <div class="form-check">
            <input type="checkbox" class="form-check-input" id="show_product" formControlName="showproduct"
                name="show_product">
            @if(createProductForm.controls['showproduct'].errors?.['required']&&
            createProductForm.controls['showproduct'].touched){
            <small class="text-danger text-small">Không được bỏ trống</small>
            }
            <label class="form-check-label" for="show_product">Hiển thị sản phẩm</label>
        </div>
        <button type="submit" class="btn btn-primary mt-3" [disabled]="createProductForm.invalid">Update Sản Phẩm</button>
    </form>
</div>